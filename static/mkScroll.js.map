{"version":3,"file":"mkScroll.js","sources":["../src/js/constants.js","../src/js/defaults.js","../src/js/utilities.js","../src/js/render.js","../src/js/scroll.js"],"sourcesContent":["export const NAMESPACE = 'mk-scroll';\nexport const VERTICAL = 'vertical';\nexport const HORIZONTAL = 'horizontal';\nexport const REGEXP_SUFFIX = /^(?:width|height|minWidth|minHeight|top|left|paddingRight|paddingBottom)$/;\n\nexport const CONTAINER_MIN_WIDTH = 200;\nexport const CONTAINER_MIN_HEIGHT = 200;\nexport const SCROLL_BAL_WIDTH = 17;\n","import {\n  VERTICAL,\n  CONTAINER_MIN_WIDTH,\n  CONTAINER_MIN_HEIGHT,\n} from './constants';\n\nexport default {\n  direction: VERTICAL,\n  containerMinWidth: CONTAINER_MIN_WIDTH,\n  containerMinHeight: CONTAINER_MIN_HEIGHT,\n};\n","import { REGEXP_SUFFIX } from './constants';\n\n/**\n * Check if the given value is not a number.\n */\nexport const isNaN = Number.isNaN || window.isNaN;\n\n/**\n * Check if the given value is a number.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a number, else `false`.\n */\nexport const isNumber = value => typeof value === 'number' && !isNaN(value);\n\n/**\n * Check if the given value is a string.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a string, else `false`.\n */\nexport const isString = value => typeof value === 'string';\n\n/**\n * Check if the given value is a function.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a function, else `false`.\n */\nexport const isFunction = value => typeof value === 'function';\n\n/**\n * Check if the given value is an object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is an object, else `false`.\n */\nexport const isObject = value => typeof value === 'object' && value !== null;\n\n/**\n * Check if the given value is a plain object.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a plain object, else `false`.\n */\nexport const isPlainObject = value => {\n  if (!isObject(value)) return false;\n\n  try {\n    const { constructor } = value;\n    const { prototype } = constructor;\n\n    return (\n      constructor &&\n      prototype &&\n      hasOwnProperty.call(prototype, 'isPrototypeOf')\n    );\n  } catch (e) {\n    return false;\n  }\n};\n\n/**\n * query element by arguments in different length.\n * @param {*} arguments - query arguments[1] under arguments[0] or query arguments[0] under document.\n * @returns {element} Returns element.\n */\nexport const querySelector = (...args) =>\n  args.length > 1\n    ? args[0].querySelector(args[1])\n    : document.querySelector(args[0]);\n\n/**\n * Extend the given object.\n * @param {*} obj - The object to be extended.\n * @param {*} args - The rest objects which will be merged to the first object.\n * @returns {Object} The extended object.\n */\nexport const assign =\n  Object.assign ||\n  function(obj, ...args) {\n    if (isObject(obj) && args.length > 0) {\n      args.forEach(arg => {\n        if (isObject(arg)) {\n          Object.keys(arg).forEach(key => {\n            obj[key] = arg[key];\n          });\n        }\n      });\n    }\n\n    return obj;\n  };\n\n/**\n * Iterate the given data.\n * @param {*} data - The data to iterate.\n * @param {Function} callback - The process function for each element.\n * @returns {*} The original data.\n */\nexport const forEach = (data, callback) => {\n  if (data && isFunction(callback)) {\n    if (Array.isArray(data) || isNumber(data.length)) {\n      const { length } = data;\n\n      for (let i = 0; i < length; i++) {\n        if (callback.call(data, data[i], i, data) === false) break;\n      }\n    } else if (isObject(data)) {\n      Object.keys(data).forEach(key => {\n        callback.call(data, data[key], key, data);\n      });\n    }\n  }\n\n  return data;\n};\n\n/**\n * Check if the given value is a part of data.\n * @param {*} data - The data to be check.\n * @param {*} value - The value to check.\n * @returns {boolean} Returns `true` if the given value is a part of data, else `false`.\n */\nexport const includes = (data, value) => {\n  const { constructor } = data;\n  const { prototype } = constructor;\n  let isIncludes = false;\n\n  if (hasOwnProperty.call(prototype, 'includes')) {\n    isIncludes = data.includes(value);\n  } else if (hasOwnProperty.call(prototype, 'indexOf')) {\n    isIncludes = data.indexOf(value) > -1;\n  }\n\n  return isIncludes;\n};\n\n/**\n * Apply styles to the given element.\n * @param {Element} element - The target element.\n * @param {Object} styles - The styles for applying.\n */\nexport const setStyle = (element, styles) => {\n  const { style } = element;\n\n  forEach(styles, (value, key) => {\n    if (REGEXP_SUFFIX.test(key) && isNumber(value)) {\n      value += 'px';\n    }\n\n    style[key] = value;\n  });\n};\n\n/**\n * Add classes to the given element.\n * @param {Element} element - The target element.\n * @param {string} value - The classes to be added.\n */\nexport const addClass = (element, value) => {\n  if (!value) return;\n\n  if (isNumber(element.length)) {\n    forEach(element, _element => {\n      addClass(_element, value);\n    });\n\n    return;\n  }\n\n  if (element.classList) {\n    element.classList.add(value);\n\n    return;\n  }\n\n  const className = element.className.trim();\n\n  if (!className) {\n    element.className = value;\n  } else if (includes(className, value)) {\n    element.className += ` ${value}`;\n  }\n};\n","import { SCROLL_BAL_WIDTH } from './constants';\nimport { assign, setStyle } from './utilities';\n\nexport default {\n  render() {\n    this.renderContainer();\n    this.renderWrapper();\n  },\n  renderContainer() {\n    const STYLES = {\n      minWidth: this.options.containerMinWidth,\n      minHeight: this.options.containerMinHeight,\n      overflow: 'hidden',\n    };\n\n    setStyle(this.container, STYLES);\n  },\n  renderWrapper() {\n    const STYLES = {\n      boxSizing: 'border-box',\n    };\n\n    if (this.isVertical) {\n      assign(STYLES, {\n        width: this.container.offsetWidth + SCROLL_BAL_WIDTH,\n        paddingRight: SCROLL_BAL_WIDTH,\n        height: 'inherit',\n        overflowX: 'hidden',\n        wordBreak: 'break-all'\n      });\n    } else {\n      assign(STYLES, {\n        height: this.container.offsetHeight + SCROLL_BAL_WIDTH,\n        paddingBottom: SCROLL_BAL_WIDTH,\n        overflowY: 'hidden',\n        whiteSpace: 'nowrap'\n      });\n    }\n    // const STYLES = {\n    //   marginRight: -SCROLL_BAL_WIDTH,\n    //   overflow: 'scroll',\n    // };\n\n    setStyle(this.wrapper, STYLES);\n  },\n};\n","import DEFAULTS from './defaults';\nimport { VERTICAL } from './constants';\nimport render from './render';\nimport { assign, isString, isPlainObject, querySelector } from './utilities';\n\nclass Scroll {\n  constructor(element, options = {}) {\n    this.container = isString(element) ? querySelector(element) : element;\n    if (!this.container) {\n      throw new Error('mkScroll require an element or a string.');\n    }\n    // if (this.container.children.length !== 1) {\n    //   throw new Error('the container only require a child.');\n    // }\n    this.wrapper = this.container.children[0];\n    this.options = assign({}, DEFAULTS, isPlainObject(options) && options);\n    this.isVertical = this.options.direction === VERTICAL;\n\n    this.init();\n  }\n  init() {\n    this.render();\n  }\n}\n\nassign(Scroll.prototype, render);\n\nexport default Scroll;\n"],"names":[],"mappings":"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"}